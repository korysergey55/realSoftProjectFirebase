(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{147:function(e,t,a){"use strict";var n=a(17),o=a(20),c=a(122),r=a(0),s=a.n(r),l=a(16),i=a(27),u=a(150),m=a.n(u),p=a(118),b=a(119),f=a(209),d=function(e,t){switch(t.type){case"success":return Object(n.a)(Object(n.a)({},e),{},{positions:t.payload});case"error":return Object(n.a)(Object(n.a)({},e),{},{error:t.payload});default:throw new Error("Action not Found!")}},g=function(){var e,t=Object(r.useReducer)(d,{positions:null,error:null}),a=Object(c.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){return navigator.geolocation?e=navigator.geolocation.watchPosition((function(e){o({type:"success",payload:e.coords})}),(function(e){return o({type:"error",payload:e})})):o({type:"error",payload:"Browser not supported yet!"}),function(){navigator.geolocation.clearWatch(e)}}),[]),n},v={width:"100%",height:"500px"},j=Object(i.b)((function(e){var t=e.button,a=void 0!==t&&t,i=e.click,u=void 0!==i&&i,d=e.currentPos,j=void 0!==d&&d,O=Object(l.b)().sounterStore,h=g().positions,y=Object(r.useState)({}),E=Object(c.a)(y,2),k=E[0],_=E[1],w=Object(r.useState)(null),N=Object(c.a)(w,2),S=(N[0],N[1]),x=Object(r.useState)(null),A=Object(c.a)(x,2),I=A[0],T=A[1],L=Object(r.useState)(null),P=Object(c.a)(L,2),C=P[0],z=P[1],F=Object(r.useState)(),B=Object(c.a)(F,2),K=B[0],W=B[1],J=Object(r.useState)(0),M=Object(c.a)(J,2),U=M[0],Z=M[1],D=Object(r.useState)({destination:"",origin:"",travelMode:"WALKING",waypoints:[],optimizeWaypoints:!0}),G=Object(c.a)(D,2),R=G[0],q=G[1],H=Object(r.useState)({destinations:[],origins:[],travelMode:"WALKING",avoidHighways:!1,avoidTolls:!1}),Q=Object(c.a)(H,2),V=Q[0],X=Q[1];Object(r.useEffect)((function(){!function(){if(O.item){var e=O.item.markersArr;W(e)}else W([])}()}),[O.item]),Object(r.useEffect)((function(){u&&W([])}),[O.item]),Object(r.useEffect)((function(){h&&_({lat:null===h||void 0===h?void 0:h.latitude,lng:null===h||void 0===h?void 0:h.longitude})}),[h]),Object(r.useEffect)((function(){K&&K.length>1&&(ne(K),ce(K),O.setUserMarkers(K))}),[K]),Object(r.useEffect)((function(){Y()}),[C]),Object(r.useEffect)((function(){U>0&&O.setDistance(U)}),[U,O]);var Y=function(){var e,t,a=0;null!==C&&(null===C||void 0===C||null===(e=C.rows[0])||void 0===e||null===(t=e.elements)||void 0===t||t.map((function(e){var t;return a+=null===(t=e.distance)||void 0===t?void 0:t.value})),Z(a))},$=Object(f.f)({id:"myprojectrealsoft",googleMapsApiKey:"AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw"}).isLoaded,ee=Object(r.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),S(e)}),[]),te=Object(r.useCallback)((function(e){S(null)}),[]),ae=Object(r.useCallback)((function(e){null!==e&&"OK"===e.status&&T(e)}),[]),ne=function(e){var t=e.map((function(e){return{location:{lat:e.lat,lng:e.lng},stopover:!0}})),a=t.shift().location,o=t.pop().location;q(Object(n.a)(Object(n.a)({},R),{},{waypoints:t,origin:a,destination:o}))},oe=Object(r.useCallback)((function(e){if(null!==e){var t=!1;e.rows[0].elements.forEach((function(e){t="OK"===e.status})),t&&z(e)}}),[]),ce=function(e){var t=[e[0]],a=e;X(Object(n.a)(Object(n.a)({},V),{},{origins:t,destinations:a}))};return s.a.createElement("div",{className:m.a.container},a&&s.a.createElement("button",{type:"button",className:m.a.addMarker,onClick:function(){_({lat:null===h||void 0===h?void 0:h.latitude,lng:null===h||void 0===h?void 0:h.longitude})}},s.a.createElement(p.a,{icon:b.e,color:"grey",size:"1x",className:m.a.btnIcon}),"Add current position"),s.a.createElement("div",{className:m.a.containerStyle},$?s.a.createElement(f.d,{mapContainerStyle:v,center:k,zoom:100,onLoad:ee,onUnmount:te,onClick:u?function(){var e=arguments.length<=0?void 0:arguments[0],t=e.latLng.lat(),a=e.latLng.lng(),n=[].concat(Object(o.a)(K),[{lat:t,lng:a}]);W(n)}:function(){}},j&&s.a.createElement(f.e,{label:"currentPosition",position:k,draggable:!1}),K&&s.a.createElement(f.b,{options:R,callback:ae}),s.a.createElement(f.c,{options:V,callback:oe}),K&&K.length>1?s.a.createElement(f.a,{options:{directions:I}}):null):null))}));t.a=s.a.memo(j)},150:function(e,t,a){e.exports={container:"styles_container__3bhCi",addMarker:"styles_addMarker__361ni",btnIcon:"styles_btnIcon__3IJzP",containerStyle:"styles_containerStyle__1LqZr"}},217:function(e,t,a){e.exports={container:"styles_container__2K-om",list:"styles_list__1q7Ie",itemTitle:"styles_itemTitle__34PE-",title:"styles_title__3ZZsL",subtitle:"styles_subtitle__1_leN",item:"styles_item__1Kp31",text:"styles_text__-uPaF",loginBtn:"styles_loginBtn__2gSXD"}},395:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),r=a.n(c),s=a(18),l=a(16),i=a(27),u=a(217),m=a.n(u),p=a(118),b=a(119),f=a(228),d=a(380),g=d.a.initializeApp({apiKey:"AIzaSyDwpUrScZfWnJtvC1bA3j1iF14-ZE-ff-U",authDomain:"realsoftproject-5d44c.firebaseapp.com",databaseURL:"https://realsoftproject-5d44c-default-rtdb.firebaseio.com/",projectId:"realsoftproject-5d44c",OAuth:"https://realsoftproject-5d44c.firebaseapp.com/__/auth/handler"}).auth();g.languageCode="en";var v=new d.a.auth.GoogleAuthProvider,j=new d.a.auth.FacebookAuthProvider,O=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.signInWithPopup(v);case 3:return t=e.sent,e.abrupt("return",t.credential);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.signInWithPopup(j);case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=a(21),E=Object(i.b)((function(){var e=Object(l.b)().authAPI,t=Object(y.e)(),a=function(){var a=Object(s.a)(r.a.mark((function a(n){var o,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("google"!==n.currentTarget.name){a.next=7;break}return a.next=3,O();case 3:o=a.sent,e.setAccessTokenAPI(o.accessToken),localStorage.setItem("accessToken",JSON.stringify(o.accessToken)),t.push("/sounter");case 7:if("facebook"!==n.currentTarget.name){a.next=14;break}return a.next=10,h();case 10:c=a.sent,e.setAccessTokenAPI(c),localStorage.setItem("accessToken",JSON.stringify(c.accessToken)),t.push("/sounter");case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:m.a.header},o.a.createElement("div",{className:m.a.container},o.a.createElement("ul",{className:m.a.list},o.a.createElement("li",{className:m.a.itemTitle},o.a.createElement("a",{className:m.a.title,href:"/sounter"},"Sounter ",o.a.createElement("p",{className:m.a.subtitle}," create own routes"))),e.accessToken?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:m.a.item},o.a.createElement("p",{className:m.a.text},"Logit with Google"),o.a.createElement("button",{className:m.a.loginBtn,type:"button",name:"google",onClick:function(e){return a(e)}},o.a.createElement(p.a,{icon:f.b,color:"white",size:"2x"}))),o.a.createElement("li",{className:m.a.item},o.a.createElement("p",{className:m.a.text},"Logit with Facebook"),o.a.createElement("button",{className:m.a.loginBtn,type:"button",name:"facebook",onClick:function(e){return a(e)}},o.a.createElement(p.a,{icon:f.a,color:"white",size:"2x"})))),e.accessToken?o.a.createElement("li",{className:m.a.item},o.a.createElement("p",{className:m.a.text},"Logout"),o.a.createElement("button",{className:m.a.loginBtn,type:"button",name:"facebook",onClick:function(){g.signOut(),e.setAccessTokenAPI(null),localStorage.setItem("accessToken",JSON.stringify(""))}},o.a.createElement(p.a,{icon:b.f,color:"white",size:"2x"}))):null))))})),k=a(147);t.default=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null),o.a.createElement(k.a,null))}}}]);
//# sourceMappingURL=7.a1003bea.chunk.js.map