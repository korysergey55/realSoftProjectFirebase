(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{112:function(e,t,a){"use strict";a.d(t,"g",(function(){return p})),a.d(t,"a",(function(){return O})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return j})),a.d(t,"b",(function(){return y}));var n=a(120),r=a.n(n),c=a(127),o=a(158),s=a(25),l=(a(136),a(24)),u=o.a.initializeApp({apiKey:"AIzaSyDebtaQKB9J5DMS2En5flgeKFkTF-8aaJI",authDomain:"saunter-3a6ad.firebaseapp.com",databaseURL:"https://saunter-3a6ad-default-rtdb.firebaseio.com/",projectId:"saunter-3a6ad",OAuth:"https://saunter-3a6ad.firebaseapp.com/__/auth/handler"}),i=u.auth(),m=u.firestore();i.languageCode="en";var b=new o.a.auth.GoogleAuthProvider,f=new o.a.auth.FacebookAuthProvider,p=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.signInWithPopup(b);case 3:return(t=e.sent)&&s.b.success("You was successfully Login!",{theme:"colored"}),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),s.b.error("".concat(e.t0.message),{theme:"colored"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.signInWithPopup(f);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),s.b.error("".concat(e.t0.message),{theme:"colored"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.signInWithEmailAndPassword(t,a);case 3:return(n=e.sent)&&s.b.success("You was successfully Login!",{theme:"colored"}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),s.b.error("".concat(e.t0.message),{theme:"colored"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.createUserWithEmailAndPassword(a,n);case 3:return(c=e.sent)&&s.b.success("You was successfully registered. Login please!",{theme:"colored"}),o=c.user,e.next=8,m.collection("users").add({uid:o.uid,name:t,authProvider:"local",email:a});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),s.b.error("".concat(e.t0.message),{theme:"colored"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.sendPasswordResetEmail(t);case 3:e.sent,Object(s.b)("Password reset link sent! Check your email!",{theme:"colored"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),s.b.error("".concat(e.t0.message),{theme:"colored"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){i.signOut(),s.b.success("signOut success!",{theme:"colored"})},j=function(e,t){o.a.database().ref("users/"+t).set(e),s.b.success("Path added to database!",{theme:"colored"})},y=function(e){o.a.database().ref("users/"+e).on("value",(function(e){var t=e.val();t&&l.a.setUserPath(t)}))}},159:function(e,t,a){"use strict";var n=a(123),r=a(18),c=a(108),o=a(0),s=a.n(o),l=a(16),u=a(23),i=a(225),m=function(e,t){switch(t.type){case"success":return Object(n.a)(Object(n.a)({},e),{},{positions:t.payload});case"error":return Object(n.a)(Object(n.a)({},e),{},{error:t.payload});default:throw new Error("Action not Found!")}},b=function(){var e,t=Object(o.useReducer)(m,{positions:null,error:null}),a=Object(c.a)(t,2),n=a[0],r=a[1];return Object(o.useEffect)((function(){return navigator.geolocation?e=navigator.geolocation.watchPosition((function(e){r({type:"success",payload:e.coords})}),(function(e){return r({type:"error",payload:e})})):r({type:"error",payload:"Browser not supported yet!"}),function(){navigator.geolocation.clearWatch(e)}}),[]),n},f=a(409),p=a(164),d=a.n(p),h=a(121),v=a(122),g={width:"100%",height:"500px"},O=f.a.Option,j=Object(u.b)((function(e){var t=e.button,a=void 0!==t&&t,u=e.click,m=void 0!==u&&u,p=e.currentPos,j=void 0!==p&&p,y=Object(l.b)().sounterStore,E=b().positions,w=Object(o.useState)(null),_=Object(c.a)(w,2),k=_[0],x=_[1],N=Object(o.useState)(null),I=Object(c.a)(N,2),S=(I[0],I[1]),P=Object(o.useState)(),A=Object(c.a)(P,2),L=A[0],C=A[1],T=Object(o.useState)(0),F=Object(c.a)(T,2),M=F[0],B=F[1],W=Object(o.useState)("WALKING"),z=Object(c.a)(W,2),K=z[0],U=z[1],D=Object(o.useState)(null),G=Object(c.a)(D,2),R=G[0],J=G[1],V=Object(o.useState)(null),Q=Object(c.a)(V,2),Y=Q[0],H=Q[1],q=Object(o.useState)([]),Z=Object(c.a)(q,2),X=Z[0],$=Z[1],ee=Object(o.useState)(null),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)([]),ce=Object(c.a)(re,2),oe=ce[0],se=ce[1],le=Object(o.useState)([]),ue=Object(c.a)(le,2),ie=ue[0],me=ue[1],be=Object(o.useState)(null),fe=Object(c.a)(be,2),pe=fe[0],de=fe[1];Object(o.useEffect)((function(){E&&x({lat:null===E||void 0===E?void 0:E.latitude,lng:null===E||void 0===E?void 0:E.longitude})}),[E]),Object(o.useEffect)((function(){!function(){if(y.item){var e=y.item.markersArr;C(e)}m&&C([])}()}),[y.item,m]),Object(o.useEffect)((function(){L&&L.length>1&&(je(L),we(L),y.setUserMarkers(L))}),[L]),Object(o.useEffect)((function(){!function(){var e,t,a=0;null!==pe&&(null===pe||void 0===pe||null===(e=pe.rows[0])||void 0===e||null===(t=e.elements)||void 0===t||t.map((function(e){var t;return a+=null===(t=e.distance)||void 0===t?void 0:t.value})),B(a))}()}),[pe]),Object(o.useEffect)((function(){M>0&&y.setDistance(M)}),[M,y]);var he=Object(i.f)({id:"myprojectrealsoft",googleMapsApiKey:"AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw"}).isLoaded,ve=Object(o.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),S(e)}),[]),ge=Object(o.useCallback)((function(e){S(null)}),[]),Oe=Object(o.useMemo)((function(){return{destination:Y,origin:R,travelMode:K,waypoints:X,optimizeWaypoints:!0}}),[Y,R,K,X]),je=function(e){var t=e.map((function(e){return{location:{lat:e.lat,lng:e.lng},stopover:!0}})),a=t.shift().location,n=t.pop().location;J(a),H(n),$(t)},ye=Object(o.useCallback)((function(e){null!==e&&"OK"===e.status&&ne(e)}),[Y,R,X,K]),Ee=Object(o.useMemo)((function(){return{destinations:Object(r.a)(ie),origins:Object(r.a)(oe),travelMode:K,avoidHighways:!1,avoidTolls:!1}}),[ie,oe,K]),we=function(e){var t=[e[0]],a=e;se(t),me(a)},_e=Object(o.useCallback)((function(e){if(null!==e){var t=!1;e.rows[0].elements.forEach((function(e){t="OK"===e.status})),t&&de(e)}}),[]);return s.a.createElement("div",{className:d.a.container},a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:d.a.clearMap,onClick:function(){C([])}},s.a.createElement(h.a,{icon:v.f,color:"grey",size:"1x",className:d.a.btnIcon}),"Clear Map"),s.a.createElement(f.a,{className:d.a.select,showSearch:!0,style:{width:200},placeholder:"Select trevel mode",optionFilterProp:"children",onChange:function(e){U(e)}},s.a.createElement(O,{value:"DRIVING"},"DRIVING"),s.a.createElement(O,{value:"WALKING"},"WALKING"))),s.a.createElement("div",{className:d.a.containerStyle},he?s.a.createElement(i.d,{mapContainerStyle:g,center:k,zoom:100,onLoad:ve,onUnmount:ge,onClick:m?function(){var e=arguments.length<=0?void 0:arguments[0],t=e.latLng.lat(),a=e.latLng.lng(),n=[].concat(Object(r.a)(L),[{lat:t,lng:a}]);C(n)}:function(){}},j&&s.a.createElement(i.e,{label:"currentPosition",position:k,draggable:!1}),Y&&R&&s.a.createElement(i.b,{options:Oe,callback:ye}),s.a.createElement(i.c,{options:Ee,callback:_e}),L&&L.length>1?s.a.createElement(i.a,{options:{directions:Object(n.a)({},ae),draggable:!0}}):null):null))}));t.a=s.a.memo(j)},164:function(e,t,a){e.exports={container:"styles_container__1MoTx",clearMap:"styles_clearMap__2PSFD",btnIcon:"styles_btnIcon__iPT5v",select:"styles_select__3941f",containerStyle:"styles_containerStyle__UvNfw"}},240:function(e,t,a){e.exports={container:"styles_container__3l6K_",list:"styles_list__3vlIU",itemTitle:"styles_itemTitle__2yVH5",title:"styles_title__1_FiU",subtitle:"styles_subtitle__Z_Jd5",item:"styles_item__2qQPO",text:"styles_text__D6r9-",loginBtn:"styles_loginBtn__eB7WL"}},414:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(120),o=a.n(c),s=a(127),l=a(16),u=a(23),i=a(12),m=a(112),b=a(240),f=a.n(b),p=a(121),d=a(122),h=a(244),v=Object(u.b)((function(){var e=Object(l.b)().authAPI,t=Object(i.e)(),a=function(){var a=Object(s.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("google"!==n.currentTarget.name){a.next=5;break}return a.next=3,Object(m.g)();case 3:(r=a.sent)&&(e.setAccessTokenAPI(r.credential.accessToken),e.setUserAPI(r.user),t.push("/sounter"));case 5:if("facebook"!==n.currentTarget.name){a.next=10;break}return a.next=8,Object(m.f)();case 8:(c=a.sent)&&(e.setAccessTokenAPI(c),t.push("/sounter"));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:f.a.header},r.a.createElement("div",{className:f.a.container},r.a.createElement("ul",{className:f.a.list},r.a.createElement("li",{className:f.a.itemTitle},r.a.createElement("a",{className:f.a.title,href:"/sounter"},"Sounter ",r.a.createElement("p",{className:f.a.subtitle}," create own routes"))),e.accessToken?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:f.a.item},r.a.createElement("p",{className:f.a.text},"Login with:"),r.a.createElement("button",{className:f.a.loginBtn,type:"button",name:"google",onClick:function(e){return a(e)}},r.a.createElement(p.a,{icon:h.b,color:"white",size:"2x"}))),r.a.createElement("li",{className:f.a.item},r.a.createElement("p",{className:f.a.text}),r.a.createElement("button",{className:f.a.loginBtn,type:"button",name:"facebook",onClick:function(e){return a(e)}},r.a.createElement(p.a,{icon:h.a,color:"white",size:"2x"}))),r.a.createElement("li",{className:f.a.item},r.a.createElement("p",{className:f.a.text}),r.a.createElement("button",{className:f.a.loginBtn,type:"button",name:"email",onClick:function(){t.push("/registration")}},r.a.createElement(p.a,{icon:d.d,color:"white",size:"2x"})))),e.accessToken?r.a.createElement("li",{className:f.a.item},r.a.createElement("p",{className:f.a.text},"Logout"),r.a.createElement("button",{className:f.a.loginBtn,type:"button",name:"facebook",onClick:function(){Object(m.a)(),e.setAccessTokenAPI(null)}},r.a.createElement(p.a,{icon:d.g,color:"white",size:"2x"}))):null))))})),g=a(159);t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(g.a,{currentPos:!0}))}}}]);
//# sourceMappingURL=8.58aa0db3.chunk.js.map