(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{154:function(e,t,a){"use strict";var n=a(18),l=a(109),c=a(0),o=a.n(c),i=a(15),s=a(23),r=a(222),u=a(132),m=function(e,t){switch(t.type){case"success":return Object(u.a)(Object(u.a)({},e),{},{positions:t.payload});case"error":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});default:throw new Error("Action not Found!")}},b=function(){var e,t=Object(c.useReducer)(m,{positions:null,error:null}),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(c.useEffect)((function(){return navigator.geolocation?e=navigator.geolocation.watchPosition((function(e){o({type:"success",payload:e.coords})}),(function(e){return o({type:"error",payload:e})})):o({type:"error",payload:"Browser not supported yet!"}),function(){navigator.geolocation.clearWatch(e)}}),[]),n},d=a(404),p=a(160),_=a.n(p),f=a(116),h=a(117),v={width:"100%",height:"500px"},O=d.a.Option,E=Object(s.b)((function(e){var t=e.button,a=void 0!==t&&t,s=e.click,u=void 0!==s&&s,m=e.currentPos,p=void 0!==m&&m,E=Object(i.b)().sounterStore,y=b().positions,j=Object(c.useState)(null),g=Object(l.a)(j,2),N=g[0],S=g[1],x=Object(c.useState)(null),A=Object(l.a)(x,2),k=(A[0],A[1]),F=Object(c.useState)(),C=Object(l.a)(F,2),I=C[0],D=C[1],P=Object(c.useState)(0),w=Object(l.a)(P,2),M=w[0],L=w[1],z=Object(c.useState)("WALKING"),W=Object(l.a)(z,2),T=W[0],R=W[1],G=Object(c.useState)(null),K=Object(l.a)(G,2),B=K[0],X=K[1],U=Object(c.useState)(null),V=Object(l.a)(U,2),Y=V[0],Q=V[1],H=Object(c.useState)([]),J=Object(l.a)(H,2),Z=J[0],q=J[1],$=Object(c.useState)(null),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)([]),le=Object(l.a)(ne,2),ce=le[0],oe=le[1],ie=Object(c.useState)([]),se=Object(l.a)(ie,2),re=se[0],ue=se[1],me=Object(c.useState)(null),be=Object(l.a)(me,2),de=be[0],pe=be[1];Object(c.useEffect)((function(){y&&S({lat:null===y||void 0===y?void 0:y.latitude,lng:null===y||void 0===y?void 0:y.longitude})}),[y]),Object(c.useEffect)((function(){!function(){if(E.item){var e=E.item.markersArr;D(e)}u&&D([])}()}),[E.item,u]),Object(c.useEffect)((function(){I&&I.length>1&&(Oe(I),je(I),E.setUserMarkers(I))}),[I]),Object(c.useEffect)((function(){!function(){var e,t,a=0;null!==de&&(null===de||void 0===de||null===(e=de.rows[0])||void 0===e||null===(t=e.elements)||void 0===t||t.map((function(e){var t;return a+=null===(t=e.distance)||void 0===t?void 0:t.value})),L(a))}()}),[de]),Object(c.useEffect)((function(){M>0&&E.setDistance(M)}),[M,E]);var _e=Object(r.f)({id:"myprojectrealsoft",googleMapsApiKey:"AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw"}).isLoaded,fe=Object(c.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),k(e)}),[]),he=Object(c.useCallback)((function(e){k(null)}),[]),ve=Object(c.useMemo)((function(){return{destination:Y,origin:B,travelMode:T,waypoints:Z,optimizeWaypoints:!0}}),[Y,B,T,Z]),Oe=function(e){var t=e.map((function(e){return{location:{lat:e.lat,lng:e.lng},stopover:!0}})),a=t.shift().location,n=t.pop().location;X(a),Q(n),q(t)},Ee=Object(c.useCallback)((function(e){null!==e&&"OK"===e.status&&ae(e)}),[Y,B,Z,T]),ye=Object(c.useMemo)((function(){return{destinations:Object(n.a)(re),origins:Object(n.a)(ce),travelMode:T,avoidHighways:!1,avoidTolls:!1}}),[re,ce,T]),je=function(e){var t=[e[0]],a=e;oe(t),ue(a)},ge=Object(c.useCallback)((function(e){if(null!==e){var t=!1;e.rows[0].elements.forEach((function(e){t="OK"===e.status})),t&&pe(e)}}),[]);return console.log(T),o.a.createElement("div",{className:_.a.container},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"button",className:_.a.clearMap,onClick:function(){D([])}},o.a.createElement(f.a,{icon:h.f,color:"grey",size:"1x",className:_.a.btnIcon}),"Clear Map"),o.a.createElement(d.a,{className:_.a.select,showSearch:!0,style:{width:200},placeholder:"Select trevel mode",optionFilterProp:"children",onChange:function(e){R(e)}},o.a.createElement(O,{value:"DRIVING"},"DRIVING"),o.a.createElement(O,{value:"WALKING"},"WALKING"))),o.a.createElement("div",{className:_.a.containerStyle},_e?o.a.createElement(r.d,{mapContainerStyle:v,center:N,zoom:100,onLoad:fe,onUnmount:he,onClick:u?function(){var e=arguments.length<=0?void 0:arguments[0],t=e.latLng.lat(),a=e.latLng.lng(),l=[].concat(Object(n.a)(I),[{lat:t,lng:a}]);D(l)}:function(){}},p&&o.a.createElement(r.e,{label:"currentPosition",position:N,draggable:!1}),Y&&B&&o.a.createElement(r.b,{options:ve,callback:Ee}),o.a.createElement(r.c,{options:ye,callback:ge}),I&&I.length>1?o.a.createElement(r.a,{options:{directions:te,draggable:!0}}):null):null))}));t.a=o.a.memo(E)},160:function(e,t,a){e.exports={container:"styles_container__3B7ha",clearMap:"styles_clearMap__1Zm7B",btnIcon:"styles_btnIcon__3fe8O",select:"styles_select__2vPa-",containerStyle:"styles_containerStyle__2LB0h"}},314:function(e,t,a){e.exports={modal:"styles_modal__3PiYq"}},316:function(e,t,a){e.exports={container:"styles_container__3L7tB",leftSide:"styles_leftSide__1flmX",label:"styles_label__3Q8MD",input:"styles_input___XjMP",inputFullDescription:"styles_inputFullDescription__bw6f6",lengthContainer:"styles_lengthContainer__3pkca",length:"styles_length__2_HIE",buttonAddPath:"styles_buttonAddPath__3zXOp",btnIcon:"styles_btnIcon__13Kvq",rigthSide:"styles_rigthSide___-5Vs"}},385:function(e,t,a){e.exports={container:"styles_container__PrO8Q",title:"styles_title__6XpeJ",buttonAddPath:"styles_buttonAddPath__1NGWi"}},386:function(e,t,a){e.exports={input:"styles_input__2IOXb"}},387:function(e,t,a){e.exports={item:"styles_item__WhTOh",icon:"styles_icon__3-6Mj",title:"styles_title__1thfg",text:"styles_text__3MKiO",distance:"styles_distance__OnAhF",buttonGetDirections:"styles_buttonGetDirections__1R-vk",itemActive:"styles_itemActive__2MWzE"}},388:function(e,t,a){e.exports={container:"styles_container__CWx5j",leftSide:"styles_leftSide__3oe5v",list:"styles_list__34pbh",rigthSide:"styles_rigthSide__1r3cu",icon:"styles_icon__1OHdb",pathContainer:"styles_pathContainer__10Ge2",pathWripper:"styles_pathWripper__1ypt5",title:"styles_title__3-dVI",distance:"styles_distance__3pOnZ",text:"styles_text__3iQX5",buttonAddToFavorites:"styles_buttonAddToFavorites__DR7AN",buttonRemove:"styles_buttonRemove__3uKsn",notPathYet:"styles_notPathYet__2fZ8X"}},407:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(23),o=a(15),i=a(406),s=a(314),r=a.n(s),u=Object(c.b)((function(e){var t=e.visible,a=e.children,n=Object(o.b)().sounterStore;return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{title:"Add new path",className:r.a.modal,width:"1110px",visible:t,onOk:function(){n.setModal()},onCancel:function(){n.setModal()},footer:null},a))})),m=a(120),b=a(132),d=a(109),p=a(403),_=a(405),f=a(401),h=a(172),v=a(154),O=a(316),E=a.n(O),y=a(116),j=a(117),g=a(1),N=a(176).v4,S=Object(c.b)((function(){var e=Object(o.b)().sounterStore,t=e.distance,a=e.userArrMarkers,c=Object(n.useState)({title:"",shortDescription:"",fullDescription:"",id:null}),i=Object(d.a)(c,2),s=i[0],r=i[1],u=Object(n.useState)({title:"",shortDescription:"",fullDescription:"",id:null,distance:0,favorite:!1,markersArr:null}),O=Object(d.a)(u,2),S=O[0],x=O[1];Object(n.useEffect)((function(){!function(){var e=Object(b.a)(Object(b.a)({},s),{},{id:N(),distance:t,markersArr:Object(g.r)(a)});x(e)}()}),[s,t,a]);var A=function(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(m.a)({},a,n))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:E.a.container},l.a.createElement("div",{className:E.a.leftSide},l.a.createElement(p.a,{name:"pathForm",onFinish:function(){e.addUserPath(S),r({title:"",shortDescription:"",fullDescription:"",id:null}),e.setDistance(0),e.setItem(null),e.setModal()},onFinishFailed:function(e){console.log("Failed:",e)}},l.a.createElement(p.a.Item,{label:"Title",className:E.a.label}),l.a.createElement(_.a,{name:"title",value:s.title,placeholder:"Text input",className:E.a.input,onChange:A,minLength:5}),l.a.createElement(p.a.Item,{label:"Short description",className:E.a.label}),l.a.createElement(_.a.TextArea,{name:"shortDescription",value:s.shortDescription,placeholder:"Text area",className:E.a.input,maxLength:160,onChange:A}),l.a.createElement(f.a,{align:"middle",justify:"end"},"Limit ".concat(s.shortDescription.length," of ").concat(160)),l.a.createElement(p.a.Item,{label:"Full description",className:E.a.label}),l.a.createElement(_.a.TextArea,{name:"fullDescription",value:s.fullDescription,placeholder:"Text area",className:E.a.inputFullDescription,onChange:A}),l.a.createElement("div",{className:E.a.lengthContainer},l.a.createElement(y.a,{icon:j.e,color:"grey",size:"2x"}),l.a.createElement("p",{className:E.a.length},"Length ",(e.distance/1e3).toFixed(1)," km")),l.a.createElement(p.a.Item,null,l.a.createElement(h.a,{type:"primary",htmlType:"submit",className:E.a.buttonAddPath},l.a.createElement(y.a,{icon:j.c,color:"white",size:"1x",className:E.a.btnIcon}),"Add path")))),l.a.createElement("div",{className:E.a.rigthSide},l.a.createElement(v.a,{button:!0,click:!0,currentPos:!0}))))})),x=a(385),A=a.n(x),k=Object(c.b)((function(){var e=Object(o.b)().sounterStore;return l.a.createElement("div",{className:A.a.container},l.a.createElement(u,{visible:e.modal},l.a.createElement(S,null)),l.a.createElement("a",{href:"/home"},l.a.createElement(y.a,{icon:j.b,color:" rgb(0, 110, 255)",size:"2x"}),l.a.createElement("h2",{className:A.a.title},"Sounter")),l.a.createElement("button",{type:"button",className:A.a.buttonAddPath,onClick:function(){e.setModal()}},"AddPath"))})),F=a(4),C=a(386),I=a.n(C),D=_.a.Search,P=Object(F.c)((function(){var e=Object(o.b)().sounterStore,t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],i=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{placeholder:"Search...",allowClear:!0,size:"large",className:I.a.input,name:"filter",value:c,onChange:function(t){var a=t.target.value;i(a),e.getFilterUserPath(a)}}))})),w=a(387),M=a.n(w),L=a(91),z=a.n(L),W=Object(c.b)((function(e){var t,a=e.item,n=Object(o.b)().sounterStore,c=n.item;return l.a.createElement("li",{className:z()((t={},Object(m.a)(t,M.a.item,!0),Object(m.a)(t,M.a.itemActive,a.id===(null===c||void 0===c?void 0:c.id)),t)),onClick:function(){n.setItem(a)}},l.a.createElement(y.a,{icon:j.b,color:"grey",size:"2x",className:M.a.icon}),l.a.createElement("div",{className:M.a.container},a.favorite&&l.a.createElement(y.a,{icon:j.h,color:"yellow",size:"2x"}),l.a.createElement("h2",{className:M.a.title},a.title),l.a.createElement("p",{className:M.a.text},a.shortDescription)),l.a.createElement("p",{className:M.a.distance},(a.distance/1e3).toFixed(1)," km"),l.a.createElement("button",{type:"button",className:M.a.buttonGetDirections},l.a.createElement(y.a,{icon:j.a,color:"grey",size:"1x"})))})),T=a(388),R=a.n(T),G=Object(c.b)((function(){var e=Object(o.b)().sounterStore,t=e.item,a=e.filteredUserPath;return l.a.createElement("div",{className:R.a.container},l.a.createElement("div",{className:R.a.leftSide},l.a.createElement(P,null),l.a.createElement("ul",{className:R.a.list},a.length>0?a.map((function(e){return l.a.createElement(W,{item:e,key:e.id})})):l.a.createElement("h2",{className:R.a.notPathYet},"Not Path yet!"))),l.a.createElement("div",{className:R.a.rigthSide},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:R.a.pathContainer},l.a.createElement("div",{className:R.a.pathWripper},l.a.createElement("h2",{className:R.a.title},t.title),l.a.createElement("p",{className:R.a.distance},(t.distance/1e3).toFixed(1)," km")),l.a.createElement("p",{className:R.a.text},t.shortDescription)),l.a.createElement(v.a,{key:t.id}),l.a.createElement("button",{className:R.a.buttonAddToFavorites,type:"button",onClick:function(){e.setFavorite()}},t.favorite?"Remuve from favorites":"Add to favorites"),l.a.createElement("button",{className:R.a.buttonRemove,type:"button",onClick:function(){return a=t.id,e.removeUserPath(a),void e.setItem(null);var a}},"Remove")):l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{icon:j.b,color:"rgb(31, 162, 250)",size:"10x",className:R.a.icon}),l.a.createElement("h2",{className:R.a.notPathYet},"Select any path!"))))})),K=Object(c.b)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,null),l.a.createElement(G,null))}));t.default=K}}]);
//# sourceMappingURL=7.5bd3486d.chunk.js.map