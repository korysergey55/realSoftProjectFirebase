{"version":3,"sources":["components/CurrentGeoposition/index.tsx","components/MapComponent/index.tsx","components/MapComponent/styles.module.scss","components/Header/styles.module.scss","utils/firebase.js","components/Header/index.tsx","containers/Public/MainPage/index.tsx"],"names":["geoPositionReducer","state","action","type","positions","payload","error","Error","useGeoPosition","clearPosition","useReducer","dispatch","useEffect","navigator","geolocation","watchPosition","position","coords","clearWatch","containerStyle","width","height","MapComponent","observer","button","click","currentPos","sounterStore","useStore","useState","currentPosition","setCurrentPosition","setMap","response","setResponse","responceMatrix","setResponseMatrix","marker","setMarker","distanceLength","setLength","destination","origin","travelMode","waypoints","optimizeWaypoints","options","setOptions","destinations","origins","avoidHighways","avoidTolls","optionsMatrix","setOptionsMatrix","item","markerArr","markersArr","isMarkers","lat","latitude","lng","longitude","length","distance","distanceMatrix","setUserMarkers","findTotalDistance","setDistance","totalRoadDistance","rows","elements","map","value","isLoaded","useJsApiLoader","id","googleMapsApiKey","onLoad","useCallback","bounds","window","google","maps","LatLngBounds","fitBounds","onUnmount","directionsCallback","res","status","location","stopover","shift","pop","distanceMatrixCallback","eachElementOK","forEach","el","className","styles","container","addMarker","onClick","icon","faMapMarkerAlt","color","size","btnIcon","mapContainerStyle","center","zoom","e","latLng","arr","label","draggable","callback","directions","React","memo","module","exports","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","OAuth","languageCode","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","signInWithGoogle","a","signInWithPopup","credential","console","alert","message","signInWithFacebook","log","Header","authAPI","history","useHistory","loginAuth","currentTarget","name","setAccessTokenAPI","accessToken","localStorage","setItem","JSON","stringify","push","header","list","itemTitle","title","href","subtitle","text","loginBtn","faGoogle","faFacebookF","signOut","faSignOutAlt","MainPage"],"mappings":"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","file":"static/js/7.a1003bea.chunk.js","sourcesContent":["import { useEffect, useReducer } from 'react'\n\nconst geoPositionReducer = (\n  state: any,\n  action: { type: string; payload: any }\n) => {\n  switch (action.type) {\n    case 'success':\n      return {\n        ...state,\n        positions: action.payload,\n      }\n    case 'error':\n      return {\n        ...state,\n        error: action.payload,\n      }\n    default:\n      throw new Error(`Action not Found!`)\n  }\n}\n\nconst useGeoPosition = () => {\n  let clearPosition: number\n  const [state, dispatch] = useReducer(geoPositionReducer, {\n    positions: null,\n    error: null,\n  })\n\n  useEffect(() => {\n    if (!navigator.geolocation) {\n      dispatch({ type: 'error', payload: 'Browser not supported yet!' })\n    } else {\n      clearPosition = navigator.geolocation.watchPosition(\n        position => {\n          dispatch({\n            type: 'success',\n            payload: position.coords,\n          })\n        },\n        error =>\n          dispatch({\n            type: 'error',\n            payload: error,\n          })\n      )\n    }\n\n    return () => {\n      navigator.geolocation.clearWatch(clearPosition)\n    }\n  }, [])\n\n  return state\n}\n\nexport default useGeoPosition\n","/* global google */\nimport React, { useCallback, useState, useEffect, useMemo } from 'react'\nimport { useStore } from 'stores'\nimport { observer } from 'mobx-react'\nimport styles from './styles.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons'\nimport {\n  GoogleMap,\n  useJsApiLoader,\n  DirectionsService,\n  DirectionsRenderer,\n  DistanceMatrixService,\n  Marker,\n} from '@react-google-maps/api'\nimport useGeoPosition from 'components/CurrentGeoposition/index'\n// import { toJS } from 'mobx'\n\nconst containerStyle = {\n  width: '100%',\n  height: '500px',\n}\ninterface IMap {\n  button?: boolean\n  click?: boolean\n  currentPos?: boolean\n}\n// 'Chicago, IL' 'Los Angeles, CA' 'DRIVING'\nconst MapComponent: React.FC<IMap> = observer(\n  ({ button = false, click = false, currentPos = false }) => {\n    const { sounterStore } = useStore()\n    const { positions } = useGeoPosition()\n    const [currentPosition, setCurrentPosition] = useState<any>({})\n    const [map, setMap] = useState(null)\n    const [response, setResponse] = useState(null)\n    const [responceMatrix, setResponseMatrix] = useState<any>(null)\n    const [marker, setMarker] = useState<any>()\n    const [distanceLength, setLength] = useState<number>(0)\n    //Directions service\n    const [options, setOptions] = useState<any>({\n      destination: '',\n      origin: '',\n      travelMode: 'WALKING',\n      waypoints: [],\n      optimizeWaypoints: true,\n    })\n    // DistanceMatrix\n    const [optionsMatrix, setOptionsMatrix] = useState<any>({\n      destinations: [],\n      origins: [],\n      travelMode: 'WALKING',\n      avoidHighways: false,\n      avoidTolls: false,\n    })\n\n    useEffect(() => {\n      const isMarkers = () => {\n        if (sounterStore.item) {\n          const markerArr = sounterStore.item.markersArr\n          setMarker(markerArr)\n        } else setMarker([])\n      }\n      isMarkers()\n    }, [sounterStore.item])\n\n    useEffect(() => {\n      click && setMarker([])\n    }, [sounterStore.item])\n\n    useEffect(() => {\n      positions &&\n        setCurrentPosition({\n          lat: positions?.latitude,\n          lng: positions?.longitude,\n        })\n    }, [positions])\n\n    useEffect(() => {\n      if (marker && marker.length > 1) {\n        distance(marker)\n        distanceMatrix(marker)\n        sounterStore.setUserMarkers(marker)\n      }\n    }, [marker])\n\n    useEffect(() => {\n      findTotalDistance()\n    }, [responceMatrix])\n\n    useEffect(() => {\n      if (distanceLength > 0) {\n        sounterStore.setDistance(distanceLength)\n      }\n    }, [distanceLength, sounterStore])\n\n    const addMarker = () => {\n      setCurrentPosition({\n        lat: positions?.latitude,\n        lng: positions?.longitude,\n      })\n    }\n    const findTotalDistance = () => {\n      let totalRoadDistance = 0\n      if (responceMatrix !== null) {\n        responceMatrix?.rows[0]?.elements?.map(\n          (item: any) => (totalRoadDistance += item.distance?.value)\n        )\n        setLength(totalRoadDistance)\n      }\n    }\n\n    //map code\n    const { isLoaded } = useJsApiLoader({\n      id: 'myprojectrealsoft',\n      googleMapsApiKey: 'AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw',\n    })\n    const onLoad = useCallback(function callback(map) {\n      const bounds = new window.google.maps.LatLngBounds()\n      map.fitBounds(bounds)\n      setMap(map)\n    }, [])\n    const onUnmount = useCallback(function callback(map) {\n      setMap(null)\n    }, [])\n\n    const onMapClick = (...args: any) => {\n      const e = args[0]\n      const lat: any = e.latLng.lat()\n      const lng: any = e.latLng.lng()\n      const arr = [...marker, { lat, lng }]\n      setMarker(arr)\n    }\n\n    //directions service code\n    const directionsCallback = useCallback(res => {\n      // console.log('directionsCallback', toJS(res))\n      if (res !== null) {\n        if (res.status === 'OK') {\n          setResponse(res)\n        } else {\n        }\n      }\n    }, [])\n\n    const distance = (markerArr: any) => {\n      const waypoints = markerArr.map((marker: any) => ({\n        location: { lat: marker.lat, lng: marker.lng },\n        stopover: true,\n      }))\n      const origin = waypoints.shift().location\n      const destination = waypoints.pop().location\n      setOptions({\n        ...options,\n        waypoints,\n        origin,\n        destination,\n      })\n    }\n\n    // DistanceMatrix code\n    const distanceMatrixCallback = useCallback(res => {\n      // console.log('distanceMatrixCallback', toJS(res))\n      if (res !== null) {\n        let eachElementOK = false\n        res.rows[0].elements.forEach((el: any) => {\n          eachElementOK = el.status === 'OK'\n        })\n        if (eachElementOK) {\n          setResponseMatrix(res)\n        } else {\n        }\n      }\n    }, [])\n\n    const distanceMatrix = (markerArr: any) => {\n      const origins = [markerArr[0]]\n      const destinations = markerArr\n      setOptionsMatrix({\n        ...optionsMatrix,\n        origins,\n        destinations,\n      })\n    }\n    // const directionsMatrixOptions = useMemo(() => {\n    //   return {\n    //     destinations: [...destinationMatrix],\n    //     origins: [...originDistanceMatrix],\n    //     travelMode: travelMode,\n    //   }\n    // }, [destinationMatrix, originDistanceMatrix, travelMode])\n\n    return (\n      <div className={styles.container}>\n        {button && (\n          <button\n            type=\"button\"\n            className={styles.addMarker}\n            onClick={addMarker}\n          >\n            <FontAwesomeIcon\n              icon={faMapMarkerAlt}\n              color=\"grey\"\n              size=\"1x\"\n              className={styles.btnIcon}\n            />\n            Add current position\n          </button>\n        )}\n        <div className={styles.containerStyle}>\n          {isLoaded ? (\n            <GoogleMap\n              mapContainerStyle={containerStyle}\n              center={currentPosition}\n              zoom={100}\n              onLoad={onLoad}\n              onUnmount={onUnmount}\n              onClick={click ? onMapClick : () => {}}\n            >\n              {currentPos && (\n                <Marker\n                  label=\"currentPosition\"\n                  position={currentPosition}\n                  draggable={false}\n                ></Marker>\n              )}\n              {marker && (\n                <DirectionsService\n                  options={options}\n                  callback={directionsCallback}\n                />\n              )}\n              <DistanceMatrixService\n                options={optionsMatrix}\n                callback={distanceMatrixCallback}\n              />\n              {/* {marker &&\n              marker.length === 1 &&\n              marker.map((el: any) => (\n                <Marker position={el} draggable={false} key={el.lat + el.lng} />\n              ))} */}\n              {marker && marker.length > 1 ? (\n                <DirectionsRenderer\n                  options={{\n                    directions: response,\n                    // draggable: true,\n                  }}\n                />\n              ) : null}\n            </GoogleMap>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n)\nexport default React.memo(MapComponent)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3bhCi\",\"addMarker\":\"styles_addMarker__361ni\",\"btnIcon\":\"styles_btnIcon__3IJzP\",\"containerStyle\":\"styles_containerStyle__1LqZr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2K-om\",\"list\":\"styles_list__1q7Ie\",\"itemTitle\":\"styles_itemTitle__34PE-\",\"title\":\"styles_title__3ZZsL\",\"subtitle\":\"styles_subtitle__1_leN\",\"item\":\"styles_item__1Kp31\",\"text\":\"styles_text__-uPaF\",\"loginBtn\":\"styles_loginBtn__2gSXD\"};","import firebase from 'firebase'\n\nlet config = {\n  apiKey: 'AIzaSyDwpUrScZfWnJtvC1bA3j1iF14-ZE-ff-U',\n  authDomain: 'realsoftproject-5d44c.firebaseapp.com',\n  databaseURL: 'https://realsoftproject-5d44c-default-rtdb.firebaseio.com/',\n  projectId: 'realsoftproject-5d44c',\n  OAuth: 'https://realsoftproject-5d44c.firebaseapp.com/__/auth/handler',\n}\nconst app = firebase.initializeApp(config)\nconst auth = app.auth()\nauth.languageCode = 'en'\nconst googleProvider = new firebase.auth.GoogleAuthProvider()\nconst facebookProvider = new firebase.auth.FacebookAuthProvider()\n\nconst signInWithGoogle = async () => {\n  try {\n    const res = await auth.signInWithPopup(googleProvider)\n    // console.log(res.credential)\n    // console.log(res.user)\n    return res.credential\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nconst signInWithFacebook = async () => {\n  try {\n    const res = await auth.signInWithPopup(facebookProvider)\n    console.log(res)\n    return res\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nconst signInWithEmailAndPassword = async (email, password) => {\n  try {\n    await auth.signInWithEmailAndPassword(email, password);\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\nconst logout = () => {\n  auth.signOut()\n}\n// const registerWithEmailAndPassword = async (name, email, password) => {\n//   try {\n//     const res = await auth.createUserWithEmailAndPassword(email, password)\n//     const user = res.user\n//     await db.collection('users').add({\n//       uid: user.uid,\n//       name,\n//       authProvider: 'local',\n//       email,\n//     })\n//   } catch (err) {\n//     console.error(err)\n//     alert(err.message)\n//   }\n// }\nexport { auth, signInWithGoogle, logout, signInWithFacebook }\n","import React from 'react'\nimport { useStore } from 'stores'\nimport { observer } from 'mobx-react'\nimport styles from './styles.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faGoogle, faFacebookF } from '@fortawesome/free-brands-svg-icons'\nimport { signInWithGoogle, signInWithFacebook, logout } from 'utils/firebase'\nimport { useHistory } from 'react-router'\n// import { toJS } from 'mobx'\n\nconst Header = observer(() => {\n  const { authAPI } = useStore()\n  const history = useHistory()\n\n  const loginAuth = async (e: any) => {\n    if (e.currentTarget.name === 'google') {\n      const res: any = await signInWithGoogle()\n      authAPI.setAccessTokenAPI(res.accessToken)\n      localStorage.setItem('accessToken', JSON.stringify(res.accessToken))\n      history.push('/sounter')\n    }\n    if (e.currentTarget.name === 'facebook') {\n      const res: any = await signInWithFacebook()\n      authAPI.setAccessTokenAPI(res)\n      localStorage.setItem('accessToken', JSON.stringify(res.accessToken))\n      history.push('/sounter')\n    }\n  }\n  const logoutAuth = () => {\n    logout()\n    authAPI.setAccessTokenAPI(null)\n    localStorage.setItem('accessToken', JSON.stringify(''))\n  }\n  return (\n    <>\n      <header className={styles.header}>\n        <div className={styles.container}>\n          <ul className={styles.list}>\n            <li className={styles.itemTitle}>\n              <a className={styles.title} href=\"/sounter\">\n                Sounter <p className={styles.subtitle}> create own routes</p>\n              </a>\n            </li>\n            {!authAPI.accessToken ? (\n              <>\n                <li className={styles.item}>\n                  <p className={styles.text}>Logit with Google</p>\n                  <button\n                    className={styles.loginBtn}\n                    type=\"button\"\n                    name=\"google\"\n                    onClick={e => loginAuth(e)}\n                  >\n                    <FontAwesomeIcon icon={faGoogle} color=\"white\" size=\"2x\" />\n                  </button>\n                </li>\n                <li className={styles.item}>\n                  <p className={styles.text}>Logit with Facebook</p>\n                  <button\n                    className={styles.loginBtn}\n                    type=\"button\"\n                    name=\"facebook\"\n                    onClick={e => loginAuth(e)}\n                  >\n                    <FontAwesomeIcon\n                      icon={faFacebookF}\n                      color=\"white\"\n                      size=\"2x\"\n                    />\n                  </button>\n                </li>\n              </>\n            ) : null}\n            {authAPI.accessToken ? (\n              <li className={styles.item}>\n                <p className={styles.text}>Logout</p>\n                <button\n                  className={styles.loginBtn}\n                  type=\"button\"\n                  name=\"facebook\"\n                  onClick={logoutAuth}\n                >\n                  <FontAwesomeIcon\n                    icon={faSignOutAlt}\n                    color=\"white\"\n                    size=\"2x\"\n                  />\n                </button>\n              </li>\n            ) : null}\n          </ul>\n        </div>\n      </header>\n    </>\n  )\n})\n\nexport default Header\n","import React from 'react'\nimport Header from 'components/Header'\nimport MapComponent from 'components/MapComponent'\n\nconst MainPage = () => {\n  return (\n    <>\n      <Header />\n      <MapComponent />\n    </>\n  )\n}\n\nexport default MainPage\n"],"sourceRoot":""}