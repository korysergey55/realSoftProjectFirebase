{"version":3,"sources":["utils/CurrentGeoposition/index.tsx","components/MapComponentMemo/index.tsx","utils/Firebase.js","components/MapComponentMemo/styles.module.scss","components/Header/styles.module.scss","components/Header/index.tsx","containers/Public/MainPage/index.tsx"],"names":["geoPositionReducer","state","action","type","positions","payload","error","Error","useGeoPosition","clearPosition","useReducer","dispatch","useEffect","navigator","geolocation","watchPosition","position","coords","clearWatch","containerStyle","width","height","Option","Select","MapComponentMemo","observer","button","click","currentPos","sounterStore","useStore","useState","currentPosition","setCurrentPosition","setMap","marker","setMarker","distanceLength","setDistanceLength","travelMode","setTravelMode","origin","setOrigin","destination","setDestination","waypoints","setWaypoints","response","setResponse","originMatrix","setOriginMatrix","destinationMatrix","setDestinationMatrix","responceMatrix","setResponseMatrix","lat","latitude","lng","longitude","item","markerArr","markersArr","isMarkers","length","changeWaipointsDistance","changeDistanceMatrix","setUserMarkers","totalRoadDistance","rows","elements","map","distance","value","findTotalDistance","setDistance","isLoaded","useJsApiLoader","id","googleMapsApiKey","onLoad","useCallback","bounds","window","google","maps","LatLngBounds","fitBounds","onUnmount","directionsServiceOptions","useMemo","optimizeWaypoints","location","stopover","shift","pop","directionsCallback","res","status","optionsMatrix","destinations","origins","avoidHighways","avoidTolls","distanceMatrixCallback","eachElementOK","forEach","el","console","log","className","styles","container","clearMap","onClick","icon","faMapMarkerAlt","color","size","btnIcon","select","showSearch","style","placeholder","optionFilterProp","onChange","mapContainerStyle","center","zoom","e","latLng","arr","label","draggable","options","callback","directions","React","memo","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","OAuth","auth","db","firestore","languageCode","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","signInWithGoogle","a","signInWithPopup","credential","alert","message","signInWithFacebook","signInWithEmailAndPassword","email","password","logout","signOut","registerWithEmailAndPassword","name","createUserWithEmailAndPassword","user","collection","add","uid","authProvider","module","exports","Header","authAPI","history","useHistory","loginAuth","currentTarget","setAccessTokenAPI","accessToken","push","header","list","itemTitle","title","href","subtitle","text","loginBtn","faGoogle","faFacebookF","faEnvelope","faSignOutAlt","MainPage"],"mappings":"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","file":"static/js/9.66603ff5.chunk.js","sourcesContent":["import { useEffect, useReducer } from 'react'\n\nconst geoPositionReducer = (\n  state: any,\n  action: { type: string; payload: any }\n) => {\n  switch (action.type) {\n    case 'success':\n      return {\n        ...state,\n        positions: action.payload,\n      }\n    case 'error':\n      return {\n        ...state,\n        error: action.payload,\n      }\n    default:\n      throw new Error(`Action not Found!`)\n  }\n}\n\nconst useGeoPosition = () => {\n  let clearPosition: number\n  const [state, dispatch] = useReducer(geoPositionReducer, {\n    positions: null,\n    error: null,\n  })\n\n  useEffect(() => {\n    if (!navigator.geolocation) {\n      dispatch({ type: 'error', payload: 'Browser not supported yet!' })\n    } else {\n      clearPosition = navigator.geolocation.watchPosition(\n        position => {\n          dispatch({\n            type: 'success',\n            payload: position.coords,\n          })\n        },\n        error =>\n          dispatch({\n            type: 'error',\n            payload: error,\n          })\n      )\n    }\n    return () => {\n      navigator.geolocation.clearWatch(clearPosition)\n    }\n  }, [])\n\n  return state\n}\n\nexport default useGeoPosition\n","import React, { useCallback, useState, useEffect, useMemo } from 'react'\nimport { useStore } from 'stores'\nimport { observer } from 'mobx-react'\nimport {\n  GoogleMap,\n  useJsApiLoader,\n  DirectionsService,\n  DirectionsRenderer,\n  DistanceMatrixService,\n  Marker,\n} from '@react-google-maps/api'\nimport useGeoPosition from 'utils/CurrentGeoposition/index'\nimport { Select } from 'antd'\nimport styles from './styles.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons'\n// import { toJS } from 'mobx'\nconst containerStyle = {\n  width: '100%',\n  height: '500px',\n}\ninterface IMap {\n  button?: boolean\n  click?: boolean\n  currentPos?: boolean\n}\nconst { Option } = Select\n\nconst MapComponentMemo: React.FC<IMap> = observer(\n  ({ button = false, click = false, currentPos = false }) => {\n    const { sounterStore } = useStore()\n    const { positions } = useGeoPosition()\n    const [currentPosition, setCurrentPosition] = useState<any>(null)\n    const [map, setMap] = useState(null)\n\n    const [marker, setMarker] = useState<any>()\n    const [distanceLength, setDistanceLength] = useState<number>(0)\n    const [travelMode, setTravelMode] = useState<any>('WALKING')\n    //Directions service\n    const [origin, setOrigin] = useState<any>(null)\n    const [destination, setDestination] = useState<any>(null)\n    const [waypoints, setWaypoints] = useState<any>([])\n    const [response, setResponse] = useState<any>(null)\n    // DistanceMatrix\n    const [originMatrix, setOriginMatrix] = useState<any>([])\n    const [destinationMatrix, setDestinationMatrix] = useState<any>([])\n    const [responceMatrix, setResponseMatrix] = useState<any>(null)\n\n    useEffect(() => {\n      positions &&\n        setCurrentPosition({\n          lat: positions?.latitude,\n          lng: positions?.longitude,\n        })\n    }, [positions])\n\n    useEffect(() => {\n      const isMarkers = () => {\n        if (sounterStore.item) {\n          const markerArr = sounterStore.item.markersArr\n          setMarker(markerArr)\n        }\n        if (click) {\n          setMarker([])\n        }\n      }\n      isMarkers()\n    }, [sounterStore.item, click])\n\n    useEffect(() => {\n      if (marker && marker.length > 1) {\n        changeWaipointsDistance(marker)\n        changeDistanceMatrix(marker)\n        sounterStore.setUserMarkers(marker)\n      }\n    }, [marker])\n\n    useEffect(() => {\n      const findTotalDistance = () => {\n        let totalRoadDistance = 0\n        if (responceMatrix !== null) {\n          responceMatrix?.rows[0]?.elements?.map(\n            (item: any) => (totalRoadDistance += item.distance?.value)\n          )\n          setDistanceLength(totalRoadDistance)\n        }\n      }\n      findTotalDistance()\n    }, [responceMatrix])\n\n    useEffect(() => {\n      if (distanceLength > 0) {\n        sounterStore.setDistance(distanceLength)\n      }\n    }, [distanceLength, sounterStore])\n\n    const clearMarkers = () => {\n      setMarker([])\n    }\n\n    //map code\n    const { isLoaded } = useJsApiLoader({\n      id: 'myprojectrealsoft',\n      googleMapsApiKey: 'AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw',\n    })\n\n    const onLoad = useCallback(function callback(map) {\n      const bounds = new window.google.maps.LatLngBounds()\n      map.fitBounds(bounds)\n      setMap(map)\n    }, [])\n\n    const onUnmount = useCallback(function callback(map) {\n      setMap(null)\n    }, [])\n\n    const onMapClick = (...args: any) => {\n      const e = args[0]\n      const lat: any = e.latLng.lat()\n      const lng: any = e.latLng.lng()\n      const arr = [...marker, { lat, lng }]\n      setMarker(arr)\n    }\n\n    //Directions service\n    const directionsServiceOptions = useMemo(() => {\n      return {\n        destination: destination,\n        origin: origin,\n        travelMode: travelMode,\n        waypoints: waypoints,\n        optimizeWaypoints: true,\n      }\n    }, [destination, origin, travelMode, waypoints])\n\n    const changeWaipointsDistance = (markerArr: any) => {\n      const waypoints = markerArr.map((marker: any) => ({\n        location: { lat: marker.lat, lng: marker.lng },\n        stopover: true,\n      }))\n      const origin = waypoints.shift().location\n      const destination = waypoints.pop().location\n      setOrigin(origin)\n      setDestination(destination)\n      setWaypoints(waypoints)\n    }\n\n    const directionsCallback = useCallback(\n      res => {\n        if (res !== null) {\n          if (res.status === 'OK') {\n            setResponse(res)\n          } else {\n          }\n        }\n      },\n      [destination, origin, waypoints, travelMode]\n    )\n\n    // DistanceMatrix\n    const optionsMatrix = useMemo(() => {\n      return {\n        destinations: [...destinationMatrix],\n        origins: [...originMatrix],\n        travelMode: travelMode,\n        avoidHighways: false,\n        avoidTolls: false,\n      }\n    }, [destinationMatrix, originMatrix, travelMode])\n\n    const changeDistanceMatrix = (markerArr: any) => {\n      const origins = [markerArr[0]]\n      const destinations = markerArr\n      setOriginMatrix(origins)\n      setDestinationMatrix(destinations)\n    }\n\n    const distanceMatrixCallback = useCallback(res => {\n      if (res !== null) {\n        let eachElementOK = false\n        res.rows[0].elements.forEach((el: any) => {\n          eachElementOK = el.status === 'OK'\n        })\n        if (eachElementOK) {\n          setResponseMatrix(res)\n        } else {\n        }\n      }\n    }, [])\n\n    function onChange(value: any) {\n      setTravelMode(value)\n    }\n    console.log(travelMode)\n\n    return (\n      <div className={styles.container}>\n        {button && (\n          <>\n            <button\n              type=\"button\"\n              className={styles.clearMap}\n              onClick={clearMarkers}\n            >\n              <FontAwesomeIcon\n                icon={faMapMarkerAlt}\n                color=\"grey\"\n                size=\"1x\"\n                className={styles.btnIcon}\n              />\n              Clear Map\n            </button>\n            <Select\n              className={styles.select}\n              showSearch\n              style={{ width: 200 }}\n              placeholder=\"Select trevel mode\"\n              optionFilterProp=\"children\"\n              onChange={onChange}\n            >\n              <Option value=\"DRIVING\">DRIVING</Option>\n              <Option value=\"WALKING\">WALKING</Option>\n              {/* <Option value=\"BICYCLING\">BICYCLING</Option> */}\n            </Select>\n          </>\n        )}\n        <div className={styles.containerStyle}>\n          {isLoaded ? (\n            <GoogleMap\n              mapContainerStyle={containerStyle}\n              center={currentPosition}\n              zoom={100}\n              onLoad={onLoad}\n              onUnmount={onUnmount}\n              onClick={click ? onMapClick : () => {}}\n            >\n              {currentPos && (\n                <Marker\n                  label=\"currentPosition\"\n                  position={currentPosition}\n                  draggable={false}\n                ></Marker>\n              )}\n              {destination && origin && (\n                <DirectionsService\n                  options={directionsServiceOptions}\n                  callback={directionsCallback}\n                />\n              )}\n              <DistanceMatrixService\n                options={optionsMatrix}\n                callback={distanceMatrixCallback}\n              />\n              {marker && marker.length > 1 ? (\n                <DirectionsRenderer\n                  options={{\n                    directions: response,\n                    draggable: true,\n                  }}\n                />\n              ) : null}\n            </GoogleMap>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n)\nexport default React.memo(MapComponentMemo)\n","import firebase from 'firebase'\n\nlet configKorySergey = {\n  apiKey: process.env.REACT_APP_WEB_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  OAuth: process.env.REACT_APP_OAUTH,\n}\n// let configRealSoft = {\n//   apiKey: 'AIzaSyDwpUrScZfWnJtvC1bA3j1iF14-ZE-ff-U',\n//   authDomain: 'realsoftproject-5d44c.firebaseapp.com',\n//   databaseURL: 'https://realsoftproject-5d44c-default-rtdb.firebaseio.com/',\n//   projectId: 'realsoftproject-5d44c',\n//   OAuth: 'https://realsoftproject-5d44c.firebaseapp.com/__/auth/handler',\n// }\nconst app = firebase.initializeApp(configKorySergey)\nconst auth = app.auth()\nconst db = app.firestore()\nauth.languageCode = 'en'\nconst googleProvider = new firebase.auth.GoogleAuthProvider()\nconst facebookProvider = new firebase.auth.FacebookAuthProvider()\n\nconst signInWithGoogle = async () => {\n  try {\n    const res = await auth.signInWithPopup(googleProvider)\n    // console.log(res.credential)\n    // console.log(res.user)\n    return res.credential\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nconst signInWithFacebook = async () => {\n  try {\n    const res = await auth.signInWithPopup(facebookProvider)\n    console.log(res)\n    return res\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nconst signInWithEmailAndPassword = async (email, password) => {\n  try {\n    const res = await auth.signInWithEmailAndPassword(email, password)\n    // console.log(res)\n    return res\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nconst logout = () => {\n  auth.signOut()\n}\nconst registerWithEmailAndPassword = async (name, email, password) => {\n  try {\n    const res = await auth.createUserWithEmailAndPassword(email, password)\n    const user = res.user\n    await db.collection('users').add({\n      uid: user.uid,\n      name,\n      authProvider: 'local',\n      email,\n    })\n    return res\n  } catch (err) {\n    console.error(err)\n    alert(err.message)\n  }\n}\nexport {\n  auth,\n  db,\n  signInWithGoogle,\n  logout,\n  signInWithFacebook,\n  signInWithEmailAndPassword,\n  registerWithEmailAndPassword,\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3B7ha\",\"clearMap\":\"styles_clearMap__1Zm7B\",\"btnIcon\":\"styles_btnIcon__3fe8O\",\"select\":\"styles_select__2vPa-\",\"containerStyle\":\"styles_containerStyle__2LB0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2K-om\",\"list\":\"styles_list__1q7Ie\",\"itemTitle\":\"styles_itemTitle__34PE-\",\"title\":\"styles_title__3ZZsL\",\"subtitle\":\"styles_subtitle__1_leN\",\"item\":\"styles_item__1Kp31\",\"text\":\"styles_text__-uPaF\",\"loginBtn\":\"styles_loginBtn__2gSXD\"};","import React from 'react'\nimport { useStore } from 'stores'\nimport { observer } from 'mobx-react'\nimport { useHistory } from 'react-router'\nimport { signInWithGoogle, signInWithFacebook, logout } from 'utils/Firebase'\nimport styles from './styles.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt, faEnvelope } from '@fortawesome/free-solid-svg-icons'\nimport { faGoogle, faFacebookF } from '@fortawesome/free-brands-svg-icons'\n// import { toJS } from 'mobx'\n\nconst Header = observer(() => {\n  const { authAPI } = useStore()\n  const history = useHistory()\n\n  const loginAuth = async (e: any) => {\n    if (e.currentTarget.name === 'google') {\n      const res: any = await signInWithGoogle()\n      if (res) {\n        authAPI.setAccessTokenAPI(res.accessToken)\n        history.push('/sounter')\n      }\n    }\n    if (e.currentTarget.name === 'facebook') {\n      const res: any = await signInWithFacebook()\n      if (res) {\n        authAPI.setAccessTokenAPI(res)\n        history.push('/sounter')\n      }\n    }\n  }\n  const logoutAuth = () => {\n    logout()\n    authAPI.setAccessTokenAPI(null)\n  }\n  return (\n    <>\n      <header className={styles.header}>\n        <div className={styles.container}>\n          <ul className={styles.list}>\n            <li className={styles.itemTitle}>\n              <a className={styles.title} href=\"/sounter\">\n                Sounter <p className={styles.subtitle}> create own routes</p>\n              </a>\n            </li>\n            {!authAPI.accessToken ? (\n              <>\n                <li className={styles.item}>\n                  <p className={styles.text}>Login with:</p>\n                  <button\n                    className={styles.loginBtn}\n                    type=\"button\"\n                    name=\"google\"\n                    onClick={e => loginAuth(e)}\n                  >\n                    <FontAwesomeIcon icon={faGoogle} color=\"white\" size=\"2x\" />\n                  </button>\n                </li>\n                <li className={styles.item}>\n                  <p className={styles.text}></p>\n                  <button\n                    className={styles.loginBtn}\n                    type=\"button\"\n                    name=\"facebook\"\n                    onClick={e => loginAuth(e)}\n                  >\n                    <FontAwesomeIcon\n                      icon={faFacebookF}\n                      color=\"white\"\n                      size=\"2x\"\n                    />\n                  </button>\n                </li>\n                <li className={styles.item}>\n                  <p className={styles.text}></p>\n                  <button\n                    className={styles.loginBtn}\n                    type=\"button\"\n                    name=\"email\"\n                    onClick={() => {\n                      history.push('/registration')\n                    }}\n                  >\n                    <FontAwesomeIcon\n                      icon={faEnvelope}\n                      color=\"white\"\n                      size=\"2x\"\n                    />\n                  </button>\n                </li>\n              </>\n            ) : null}\n            {authAPI.accessToken ? (\n              <li className={styles.item}>\n                <p className={styles.text}>Logout</p>\n                <button\n                  className={styles.loginBtn}\n                  type=\"button\"\n                  name=\"facebook\"\n                  onClick={logoutAuth}\n                >\n                  <FontAwesomeIcon\n                    icon={faSignOutAlt}\n                    color=\"white\"\n                    size=\"2x\"\n                  />\n                </button>\n              </li>\n            ) : null}\n          </ul>\n        </div>\n      </header>\n    </>\n  )\n})\n\nexport default Header\n","import React from 'react'\nimport Header from 'components/Header'\nimport MapComponentMemo from 'components/MapComponentMemo'\n\nconst MainPage = () => {\n  return (\n    <>\n      <Header />\n      <MapComponentMemo currentPos={true} />\n    </>\n  )\n}\n\nexport default MainPage\n"],"sourceRoot":""}