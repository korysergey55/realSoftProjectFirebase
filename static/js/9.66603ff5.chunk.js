(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[9],{154:function(e,t,a){"use strict";var n=a(18),r=a(109),c=a(0),o=a.n(c),s=a(15),l=a(23),i=a(222),u=a(132),m=function(e,t){switch(t.type){case"success":return Object(u.a)(Object(u.a)({},e),{},{positions:t.payload});case"error":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});default:throw new Error("Action not Found!")}},p=function(){var e,t=Object(c.useReducer)(m,{positions:null,error:null}),a=Object(r.a)(t,2),n=a[0],o=a[1];return Object(c.useEffect)((function(){return navigator.geolocation?e=navigator.geolocation.watchPosition((function(e){o({type:"success",payload:e.coords})}),(function(e){return o({type:"error",payload:e})})):o({type:"error",payload:"Browser not supported yet!"}),function(){navigator.geolocation.clearWatch(e)}}),[]),n},b=a(404),f=a(160),d=a.n(f),v=a(116),g=a(117),h={width:"100%",height:"500px"},O=b.a.Option,j=Object(l.b)((function(e){var t=e.button,a=void 0!==t&&t,l=e.click,u=void 0!==l&&l,m=e.currentPos,f=void 0!==m&&m,j=Object(s.b)().sounterStore,E=p().positions,y=Object(c.useState)(null),_=Object(r.a)(y,2),w=_[0],k=_[1],N=Object(c.useState)(null),x=Object(r.a)(N,2),S=(x[0],x[1]),I=Object(c.useState)(),A=Object(r.a)(I,2),P=A[0],L=A[1],C=Object(c.useState)(0),B=Object(r.a)(C,2),T=B[0],F=B[1],K=Object(c.useState)("WALKING"),M=Object(r.a)(K,2),z=M[0],W=M[1],D=Object(c.useState)(null),G=Object(r.a)(D,2),R=G[0],U=G[1],J=Object(c.useState)(null),V=Object(r.a)(J,2),Z=V[0],Q=V[1],q=Object(c.useState)([]),H=Object(r.a)(q,2),X=H[0],Y=H[1],$=Object(c.useState)(null),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)([]),re=Object(r.a)(ne,2),ce=re[0],oe=re[1],se=Object(c.useState)([]),le=Object(r.a)(se,2),ie=le[0],ue=le[1],me=Object(c.useState)(null),pe=Object(r.a)(me,2),be=pe[0],fe=pe[1];Object(c.useEffect)((function(){E&&k({lat:null===E||void 0===E?void 0:E.latitude,lng:null===E||void 0===E?void 0:E.longitude})}),[E]),Object(c.useEffect)((function(){!function(){if(j.item){var e=j.item.markersArr;L(e)}u&&L([])}()}),[j.item,u]),Object(c.useEffect)((function(){P&&P.length>1&&(Oe(P),ye(P),j.setUserMarkers(P))}),[P]),Object(c.useEffect)((function(){!function(){var e,t,a=0;null!==be&&(null===be||void 0===be||null===(e=be.rows[0])||void 0===e||null===(t=e.elements)||void 0===t||t.map((function(e){var t;return a+=null===(t=e.distance)||void 0===t?void 0:t.value})),F(a))}()}),[be]),Object(c.useEffect)((function(){T>0&&j.setDistance(T)}),[T,j]);var de=Object(i.f)({id:"myprojectrealsoft",googleMapsApiKey:"AIzaSyARFt_e8aIQbS3evmvme0k4dInWVus72gw"}).isLoaded,ve=Object(c.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),S(e)}),[]),ge=Object(c.useCallback)((function(e){S(null)}),[]),he=Object(c.useMemo)((function(){return{destination:Z,origin:R,travelMode:z,waypoints:X,optimizeWaypoints:!0}}),[Z,R,z,X]),Oe=function(e){var t=e.map((function(e){return{location:{lat:e.lat,lng:e.lng},stopover:!0}})),a=t.shift().location,n=t.pop().location;U(a),Q(n),Y(t)},je=Object(c.useCallback)((function(e){null!==e&&"OK"===e.status&&ae(e)}),[Z,R,X,z]),Ee=Object(c.useMemo)((function(){return{destinations:Object(n.a)(ie),origins:Object(n.a)(ce),travelMode:z,avoidHighways:!1,avoidTolls:!1}}),[ie,ce,z]),ye=function(e){var t=[e[0]],a=e;oe(t),ue(a)},_e=Object(c.useCallback)((function(e){if(null!==e){var t=!1;e.rows[0].elements.forEach((function(e){t="OK"===e.status})),t&&fe(e)}}),[]);return console.log(z),o.a.createElement("div",{className:d.a.container},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"button",className:d.a.clearMap,onClick:function(){L([])}},o.a.createElement(v.a,{icon:g.f,color:"grey",size:"1x",className:d.a.btnIcon}),"Clear Map"),o.a.createElement(b.a,{className:d.a.select,showSearch:!0,style:{width:200},placeholder:"Select trevel mode",optionFilterProp:"children",onChange:function(e){W(e)}},o.a.createElement(O,{value:"DRIVING"},"DRIVING"),o.a.createElement(O,{value:"WALKING"},"WALKING"))),o.a.createElement("div",{className:d.a.containerStyle},de?o.a.createElement(i.d,{mapContainerStyle:h,center:w,zoom:100,onLoad:ve,onUnmount:ge,onClick:u?function(){var e=arguments.length<=0?void 0:arguments[0],t=e.latLng.lat(),a=e.latLng.lng(),r=[].concat(Object(n.a)(P),[{lat:t,lng:a}]);L(r)}:function(){}},f&&o.a.createElement(i.e,{label:"currentPosition",position:w,draggable:!1}),Z&&R&&o.a.createElement(i.b,{options:he,callback:je}),o.a.createElement(i.c,{options:Ee,callback:_e}),P&&P.length>1?o.a.createElement(i.a,{options:{directions:te,draggable:!0}}):null):null))}));t.a=o.a.memo(j)},157:function(e,t,a){"use strict";a.d(t,"e",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return v}));var n=a(126),r=a.n(n),c=a(131),o=a(220),s=o.a.initializeApp({apiKey:"AIzaSyDebtaQKB9J5DMS2En5flgeKFkTF-8aaJI",authDomain:"saunter-3a6ad.firebaseapp.com",databaseURL:"databaseURL",projectId:"saunter-3a6ad",OAuth:"https://saunter-3a6ad.firebaseapp.com/__/auth/handler"}),l=s.auth(),i=s.firestore();l.languageCode="en";var u=new o.a.auth.GoogleAuthProvider,m=new o.a.auth.FacebookAuthProvider,p=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.signInWithPopup(u);case 3:return t=e.sent,e.abrupt("return",t.credential);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.signInWithPopup(m);case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.signInWithEmailAndPassword(t,a);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){l.signOut()},v=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.createUserWithEmailAndPassword(a,n);case 3:return c=e.sent,o=c.user,e.next=7,i.collection("users").add({uid:o.uid,name:t,authProvider:"local",email:a});case 7:return e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()},160:function(e,t,a){e.exports={container:"styles_container__3B7ha",clearMap:"styles_clearMap__1Zm7B",btnIcon:"styles_btnIcon__3fe8O",select:"styles_select__2vPa-",containerStyle:"styles_containerStyle__2LB0h"}},237:function(e,t,a){e.exports={container:"styles_container__2K-om",list:"styles_list__1q7Ie",itemTitle:"styles_itemTitle__34PE-",title:"styles_title__3ZZsL",subtitle:"styles_subtitle__1_leN",item:"styles_item__1Kp31",text:"styles_text__-uPaF",loginBtn:"styles_loginBtn__2gSXD"}},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(126),o=a.n(c),s=a(131),l=a(15),i=a(23),u=a(13),m=a(157),p=a(237),b=a.n(p),f=a(116),d=a(117),v=a(241),g=Object(i.b)((function(){var e=Object(l.b)().authAPI,t=Object(u.e)(),a=function(){var a=Object(s.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("google"!==n.currentTarget.name){a.next=5;break}return a.next=3,Object(m.e)();case 3:(r=a.sent)&&(e.setAccessTokenAPI(r.accessToken),t.push("/sounter"));case 5:if("facebook"!==n.currentTarget.name){a.next=10;break}return a.next=8,Object(m.d)();case 8:(c=a.sent)&&(e.setAccessTokenAPI(c),t.push("/sounter"));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:b.a.header},r.a.createElement("div",{className:b.a.container},r.a.createElement("ul",{className:b.a.list},r.a.createElement("li",{className:b.a.itemTitle},r.a.createElement("a",{className:b.a.title,href:"/sounter"},"Sounter ",r.a.createElement("p",{className:b.a.subtitle}," create own routes"))),e.accessToken?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:b.a.item},r.a.createElement("p",{className:b.a.text},"Login with:"),r.a.createElement("button",{className:b.a.loginBtn,type:"button",name:"google",onClick:function(e){return a(e)}},r.a.createElement(f.a,{icon:v.b,color:"white",size:"2x"}))),r.a.createElement("li",{className:b.a.item},r.a.createElement("p",{className:b.a.text}),r.a.createElement("button",{className:b.a.loginBtn,type:"button",name:"facebook",onClick:function(e){return a(e)}},r.a.createElement(f.a,{icon:v.a,color:"white",size:"2x"}))),r.a.createElement("li",{className:b.a.item},r.a.createElement("p",{className:b.a.text}),r.a.createElement("button",{className:b.a.loginBtn,type:"button",name:"email",onClick:function(){t.push("/registration")}},r.a.createElement(f.a,{icon:d.d,color:"white",size:"2x"})))),e.accessToken?r.a.createElement("li",{className:b.a.item},r.a.createElement("p",{className:b.a.text},"Logout"),r.a.createElement("button",{className:b.a.loginBtn,type:"button",name:"facebook",onClick:function(){Object(m.a)(),e.setAccessTokenAPI(null)}},r.a.createElement(f.a,{icon:d.g,color:"white",size:"2x"}))):null))))})),h=a(154);t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(h.a,{currentPos:!0}))}}}]);
//# sourceMappingURL=9.66603ff5.chunk.js.map